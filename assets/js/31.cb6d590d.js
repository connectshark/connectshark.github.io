(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{417:function(t,a,s){"use strict";s.r(a);var n=s(21),e=function(t){t.options.__data__block__={flowchart_382ee206:"st=>start: 初始化遊戲\nload=>operation: preload\ncreate=>operation: create\ne=>inputoutput: update\n\nst->load->create->e->e"}},r=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"讀取遊戲所需的素材吧"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#讀取遊戲所需的素材吧"}},[t._v("#")]),t._v(" 讀取遊戲所需的素材吧~!")]),t._v(" "),s("p",[t._v("繼上一篇以後初始化後正式將遊戲建起來")]),t._v(" "),s("p",[t._v("這裡先來解說config的內容")]),t._v(" "),s("h2",{attrs:{id:"config-設定"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#config-設定"}},[t._v("#")]),t._v(" config 設定")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" config "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Phaser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("AUTO")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  width"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("800")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  height"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("600")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  parent"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'game'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  scene"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    preload"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" preload"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    create"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" create"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    update"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" update\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" game "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Phaser"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Game")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("preload")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"必要屬性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#必要屬性"}},[t._v("#")]),t._v(" 必要屬性")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("type")]),t._v("：設定遊戲渲染的環境,可以使用"),s("code",[t._v("Phaser.CANVAS")]),t._v(","),s("code",[t._v("Phaser.WEBGL")]),t._v(" , "),s("code",[t._v("Phaser.AUTO")]),t._v(",官方推薦使用"),s("code",[t._v("Phaser.AUTO")]),t._v("，"),s("code",[t._v("phaser")]),t._v("會自動嘗試使用者的渲染環境能否使用"),s("code",[t._v("WEBGL")]),t._v(",如果不能則會自行更換成"),s("code",[t._v("CANVAS")])]),t._v(" "),s("li",[s("code",[t._v("width")]),t._v(":生成的畫布尺寸,寬度設定")]),t._v(" "),s("li",[s("code",[t._v("height")]),t._v(":生成的畫布尺寸,高度設定")]),t._v(" "),s("li",[s("code",[t._v("scene")]),t._v(":遊戲主要場景的設定,往後會在多加描述")])]),t._v(" "),s("h3",{attrs:{id:"額外推薦配置屬性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#額外推薦配置屬性"}},[t._v("#")]),t._v(" 額外推薦配置屬性")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("backgroundColor")]),t._v(": 生成遊戲時初始背景顏色設定, 預設"),s("code",[t._v("#000")])]),t._v(" "),s("li",[s("code",[t._v("parent")]),t._v(": 設定畫布父層id名稱,有設定時畫布會生成在該id名稱元素裡面")]),t._v(" "),s("li",[s("code",[t._v("disableContextMenu")]),t._v(": "),s("code",[t._v("true")]),t._v("禁止使用滑鼠右鍵,預設"),s("code",[t._v("false")])]),t._v(" "),s("li",[s("code",[t._v("scale.mode")]),t._v(":設定"),s("code",[t._v("Phaser.Scale.FIT")]),t._v("可以將畫布設定成像"),s("code",[t._v("background-size: contain")]),t._v("一樣將畫布完整縮放在可視範圍內,預設"),s("code",[t._v("Phaser.Scale.NONE")]),t._v("不調整縮放")]),t._v(" "),s("li",[s("code",[t._v("scale.autoCenter")]),t._v(":設定"),s("code",[t._v("Phaser.Scale.CENTER_BOTH")]),t._v(",可將畫布維持在畫面正中央,預設"),s("code",[t._v("Phaser.Scale.NO_CENTER")]),t._v("不調整位置")])]),t._v(" "),s("p",[t._v("其他更多的配置可以在"),s("a",{attrs:{href:"https://rexrainbow.github.io/phaser3-rex-notes/docs/site/game/",target:"_blank",rel:"noopener noreferrer"}},[t._v("這裡查看"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"phaser生命週期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#phaser生命週期"}},[t._v("#")]),t._v(" "),s("code",[t._v("Phaser")]),t._v("生命週期")]),t._v(" "),s("p",[t._v("每個遊戲場景都會有三支不同的涵式來控制該場景所有需要的內容")]),t._v(" "),s("FlowChart",{attrs:{id:"flowchart_382ee206",code:t.$dataBlock.flowchart_382ee206,preset:"vue"}}),s("blockquote",[s("p",[t._v("update循環")])]),t._v(" "),s("h3",{attrs:{id:"各涵式內容"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#各涵式內容"}},[t._v("#")]),t._v(" 各涵式內容")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("preload")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("主要負責預先載入此場景中所需的遊戲素材,例如圖片,音效,影片,文字,plugin等等")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("負責將遊戲素材放置於畫面中,註冊事件,設定動畫效果等等")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("以1秒60次預設的頻率執行涵式內容")]),t._v(" "),s("p",[t._v("需要經常刷新的動作可以設定在裡面")]),t._v(" "),s("p",[t._v("稍微瞭解以後就可以開始製作第一個遊戲囉")]),t._v(" "),s("h2",{attrs:{id:"在preload裡面添加下列內容"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在preload裡面添加下列內容"}},[t._v("#")]),t._v(" 在preload裡面添加下列內容")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("preload")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sky'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'assets/sky.png'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ground'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'assets/platform.png'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'star'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'assets/star.png'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bomb'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'assets/bomb.png'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("spritesheet")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dude'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'assets/dude.png'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" frameWidth"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" frameHeight"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("其中"),s("code",[t._v("this.load.image")]),t._v("應該很好懂,就是告訴phaser讀的是哪種素材")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("load")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("素材id")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("來源")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("範例內容")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("'sky'")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("'assets/sky.png'")])])])]),t._v(" "),s("p",[t._v("接著在"),s("code",[t._v("create")]),t._v("涵式中添加以下內容")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("add"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("image")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("400")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sky'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("image")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("x位置")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("y位置")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("key名稱,對應"),s("code",[t._v("preload")]),t._v("裡面的"),s("code",[t._v("id")])])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("範例內容")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("400")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("300")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("'sky'")])])])]),t._v(" "),s("p",[t._v("如此一來你就可以在畫面中看到藍藍的天空")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://i.imgur.com/6TNPmPL.png",alt:"藍天白雲"}})]),t._v(" "),s("div",{staticClass:"custom-block danger"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),s("p",[t._v("預設的中心點是每個圖片的正中心點")]),t._v(" "),s("p",[t._v("圖片有長有短如果覺得不好配置")]),t._v(" "),s("p",[t._v("可以修改成")]),t._v(" "),s("p",[s("code",[t._v("this.add.image(0, 0, 'sky').setOrigin(0, 0)")])]),t._v(" "),s("p",[t._v("將中心點定在左上角")])]),t._v(" "),s("h2",{attrs:{id:"下回預告"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#下回預告"}},[t._v("#")]),t._v(" 下回預告")]),t._v(" "),s("p",[t._v("這回主要解說大部分設定內容還有功用")]),t._v(" "),s("p",[t._v("下回再來把遊戲素材全部放在畫面上吧!!")])],1)}),[],!1,null,null,null);"function"==typeof e&&e(r);a.default=r.exports}}]);